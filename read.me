# TaskFlow Pro â€” Notes personnelles

âš ï¸ Ce fichier est un mÃ©mo PERSONNEL.
Il nâ€™est pas destinÃ© Ã  Ãªtre public.
Il sert uniquement Ã  me rappeler :
- comment fonctionne le projet
- comment dÃ©ployer
- comment utiliser Git

## ğŸ¯ Objectif du projet

- DÃ©velopper TaskFlow en local (Mac)
- Sauvegarder le code sur GitHub (backup)
- DÃ©ployer gratuitement sur Render
- Utiliser une base Postgres gratuite (Neon)

## ğŸ“ Structure du projet

app.py
â†’ Point dâ€™entrÃ©e pour Gunicorn (production)

taskflow/
â†’ Application Flask
(routes, models, auth, config, templates)

requirements.txt
â†’ DÃ©pendances Python

taskflow.db
â†’ Base SQLite locale (DEV uniquement)

venv/
â†’ Environnement Python local (NE JAMAIS PUSH)

## ğŸ§‘â€ğŸ’» DÃ©veloppement local

Activer lâ€™environnement virtuel :
source venv/bin/activate

Lancer lâ€™application :
python3 app.py

URL locale :
http://127.0.0.1:5000

## ğŸ”„ Git â€” MÃ©mo simple

Ã€ FAIRE Ã€ CHAQUE MODIFICATION :

1) VÃ©rifier lâ€™Ã©tat
git status

2) Ajouter les fichiers
git add .

3) Sauvegarder (commit)
git commit -m "Description claire de la modification"

4) Envoyer sur GitHub
git push

Exemples de messages de commit :

"Fix DATABASE_URL config for Render"
"Add task drawer UI"
"Fix Postgres password_hash type"

## â˜ï¸ DÃ©ploiement Render (gratuit)

Type :
Web Service

Start Command :
gunicorn app:app --bind 0.0.0.0:$PORT

Variables dâ€™environnement sur Render :

SECRET_KEY = clÃ© secrÃ¨te
DATABASE_URL = fournie par Neon

âš ï¸ Ne jamais mettre ces valeurs en dur dans le code

## ğŸ—„ï¸ Base de donnÃ©es (Neon)

Postgres gratuit connectÃ© Ã  Render

Commande utile :
\d "user"

Erreur psycopg2 manquant :

Solution â†’ requirements.txt :
psycopg2-binary==2.9.9
gunicorn==23.0.0

## âŒ Erreur password_hash trop long

Cause :
password_hash Flask est trÃ¨s long
VARCHAR(128) insuffisant

Solution SQL :
ALTER TABLE "user"
ALTER COLUMN password_hash TYPE text;

## âš™ï¸ Configuration Flask (config.py)

UNE SEULE class Config :

import os

class Config:
    SECRET_KEY = os.environ.get("SECRET_KEY", "dev-secret-change-me")

    db_url = (os.environ.get("DATABASE_URL") or "").strip()

    if db_url.startswith("postgres://"):
        db_url = db_url.replace("postgres://", "postgresql://", 1)

    SQLALCHEMY_DATABASE_URI = db_url if db_url else "sqlite:///taskflow.db"
    SQLALCHEMY_TRACK_MODIFICATIONS = False

    ## ğŸ§  Bonnes pratiques

NE JAMAIS COMMIT :
- venv/
- taskflow.db
- SECRET_KEY
- DATABASE_URL

TOUJOURS :
- commit souvent
- push avant grosses modifs
- lire les logs Render en cas dâ€™erreur

## ğŸ Ã‰tat actuel

âœ… Application fonctionnelle
âœ… DÃ©ployÃ©e sur Render
âœ… Base Postgres Neon OK
âœ… Auth, dashboard, calendrier, analytics OK

Projet prÃªt Ã  Ã©voluer ğŸš€